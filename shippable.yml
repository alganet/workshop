language: none
build:
  ci:
    # Update apt catalogue if going to install anything
    - ${APTGET:+sudo apt-get update}

    # Install apt-get dependencies
    - ${APTGET:+sudo apt-get install -y ${APTGET}}
    - SHELL${posit_shell:-sh}; ; ${SHELL} lib/workshop.sh posit run doc/testing.md

env:
  - posit_shell"dash"
matrix:
  include:
    - env:
      - posit_shell"bash"
      - APTGET=""

    - env:
      - posit_shell"posh"
      - APTGET="posh"

    - env:
      - posit_shell"mksh"
      - APTGET="mksh"

    - env:
      - posit_shell"zsh"
      - APTGET="zsh"

    - env:
      - posit_shell"pdksh"
      - APTGET="pdksh"

    - env:
      - posit_shell"yash"
      - APTGET="yash"

    - env:
      - posit_shell"ksh"
      - APTGET="ksh"

    - env:
      - posit_shell"zsh-beta" APTGET="zsh-beta"

    - env:
      - posit_shell"busybox sh" APTGET="busybox"
