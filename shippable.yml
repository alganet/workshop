language: none
build:
  ci:
    # Update apt catalogue if going to install anything
    - ${APTGET:+sudo apt-get update}

    # Install apt-get dependencies
    - ${APTGET:+sudo apt-get install -y ${APTGET}}
    - SHELL=${SHELL:-sh}; ${SHELL} lib/workshop.sh posit run doc/testing.md

env:
  - SHELL="dash"
matrix:
  include:
    - env:
      - SHELL="bash"
      - APTGET=""

    - env:
      - SHELL="posh"
      - APTGET="posh"

    - env:
      - SHELL="mksh"
      - APTGET="mksh"

    - env:
      - SHELL="zsh"
      - APTGET="zsh"

    - env:
      - SHELL="pdksh"
      - APTGET="pdksh"

    - env:
      - SHELL="yash"
      - APTGET="yash"

    - env:
      - SHELL="ksh"
      - APTGET="ksh"

    - env:
      - SHELL="zsh-beta" APTGET="zsh-beta"

    - env:
      - SHELL="busybox sh" APTGET="busybox"
